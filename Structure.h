#ifndef STRUCTURE_H
#define STRUCTURE_H

#include <string>

/**
 * @brief Базовый абстрактный класс для всех структур данных.
 *
 * Определяет полиморфный интерфейс для сериализации и десериализации,
 * необходимый для сохранения состояния структур данных в файл.
 * Все конкретные типы данных (массив, стеки, очереди, деревья) наследуются
 * от этого класса и реализуют методы serialize() и deserialize().
 */
struct Structure {
    /** @brief Имя структуры для идентификации в базе данных реестра */
    std::string name;
    
    /**
     * @brief Сериализует состояние структуры в строку.
     *
     * Преобразует текущее состояние структуры данных в текстовое представление
     * для сохранения в файл. Формат зависит от конкретной структуры.
     *
     * @return Строковое представление структуры (например "M name count val1 val2...")
     */
    virtual std::string serialize() const = 0;
    
    /**
     * @brief Десериализует состояние структуры из строки.
     *
     * Восстанавливает состояние структуры данных из текстового представления,
     * которое было загружено из файла.
     *
     * @param data Строка с сохраненным состоянием структуры
     */
    virtual void deserialize(const std::string& data) = 0;
    
    /** @brief Виртуальный деструктор для корректного удаления производных классов */
    virtual ~Structure() = default;
};

#endif
